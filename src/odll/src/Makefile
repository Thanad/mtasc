# Makefile generated by OCamake 
# http://tech.motion-twin.com
.SUFFIXES : .ml .mli .cmo .cmx .mll .mly

OCAMLSRC= c:\ocaml\src
CFLAGS= -I $(OCAMLSRC)\asmcomp -I $(OCAMLSRC)\utils -I $(OCAMLSRC)\bytecomp -I $(OCAMLSRC)\parsing -I $(OCAMLSRC)\typing
LFLAGS= -I $(OCAMLSRC)\asmcomp -I $(OCAMLSRC)\utils -I $(OCAMLSRC)\bytecomp -I $(OCAMLSRC)\parsing -I $(OCAMLSRC)\typing
LIBS=unix.cma config.cmo
OPTLIBS=unix.cmxa config.cmx

all: odll.exe

opt: odll_opt.exe

odll.exe: $(OCAMLSRC)\typing\ident.cmo $(OCAMLSRC)\typing\path.cmo odll.cmo
	ocamlc -o odll.exe $(LFLAGS) $(LIBS) $(OCAMLSRC)\typing\ident.cmo $(OCAMLSRC)\typing\path.cmo odll.cmo

odll_opt.exe: $(OCAMLSRC)\typing\ident.cmx $(OCAMLSRC)\typing\path.cmx odll.cmx
	ocamlopt -o odll_opt.exe $(LFLAGS) $(OPTLIBS) $(OCAMLSRC)\typing\ident.cmx $(OCAMLSRC)\typing\path.cmx odll.cmx

odll.cmo: $(OCAMLSRC)\asmcomp\compilenv.cmi $(OCAMLSRC)\utils\config.cmi $(OCAMLSRC)\bytecomp\emitcode.cmi $(OCAMLSRC)\typing\ident.cmi $(OCAMLSRC)\typing\path.cmi $(OCAMLSRC)\typing\types.cmi

odll.cmx: $(OCAMLSRC)\asmcomp\compilenv.cmi $(OCAMLSRC)\utils\config.cmi $(OCAMLSRC)\bytecomp\emitcode.cmi $(OCAMLSRC)\typing\ident.cmi $(OCAMLSRC)\typing\path.cmi $(OCAMLSRC)\typing\types.cmi

$(OCAMLSRC)\asmcomp\clambda.cmi: $(OCAMLSRC)\parsing\asttypes.cmi $(OCAMLSRC)\typing\ident.cmi $(OCAMLSRC)\bytecomp\lambda.cmi

$(OCAMLSRC)\asmcomp\compilenv.cmi: $(OCAMLSRC)\asmcomp\clambda.cmi $(OCAMLSRC)\typing\ident.cmi

$(OCAMLSRC)\bytecomp\emitcode.cmi: $(OCAMLSRC)\typing\ident.cmi $(OCAMLSRC)\bytecomp\instruct.cmi $(OCAMLSRC)\bytecomp\lambda.cmi

$(OCAMLSRC)\typing\env.cmi: $(OCAMLSRC)\typing\ident.cmi $(OCAMLSRC)\parsing\longident.cmi $(OCAMLSRC)\typing\path.cmi $(OCAMLSRC)\typing\types.cmi

$(OCAMLSRC)\typing\ident.cmo: $(OCAMLSRC)\typing\ident.cmi

$(OCAMLSRC)\typing\ident.cmx: $(OCAMLSRC)\typing\ident.cmi

$(OCAMLSRC)\bytecomp\instruct.cmi: $(OCAMLSRC)\typing\env.cmi $(OCAMLSRC)\typing\ident.cmi $(OCAMLSRC)\bytecomp\lambda.cmi $(OCAMLSRC)\typing\types.cmi

$(OCAMLSRC)\bytecomp\lambda.cmi: $(OCAMLSRC)\parsing\asttypes.cmi $(OCAMLSRC)\typing\env.cmi $(OCAMLSRC)\typing\ident.cmi $(OCAMLSRC)\typing\path.cmi $(OCAMLSRC)\typing\primitive.cmi $(OCAMLSRC)\typing\types.cmi

$(OCAMLSRC)\typing\path.cmo: $(OCAMLSRC)\typing\ident.cmi $(OCAMLSRC)\typing\path.cmi

$(OCAMLSRC)\typing\path.cmx: $(OCAMLSRC)\typing\ident.cmi $(OCAMLSRC)\typing\path.cmi

$(OCAMLSRC)\typing\path.cmi: $(OCAMLSRC)\typing\ident.cmi

$(OCAMLSRC)\typing\types.cmi: $(OCAMLSRC)\parsing\asttypes.cmi $(OCAMLSRC)\typing\ident.cmi $(OCAMLSRC)\typing\path.cmi $(OCAMLSRC)\typing\primitive.cmi

clean:
	rm -f odll.exe   odll.cmo odll.cmi $(OCAMLSRC)\parsing\asttypes.cmi $(OCAMLSRC)\asmcomp\clambda.cmi $(OCAMLSRC)\asmcomp\compilenv.cmi $(OCAMLSRC)\utils\config.cmi $(OCAMLSRC)\bytecomp\emitcode.cmi $(OCAMLSRC)\typing\env.cmi $(OCAMLSRC)\typing\ident.cmo $(OCAMLSRC)\typing\ident.cmi $(OCAMLSRC)\bytecomp\instruct.cmi $(OCAMLSRC)\bytecomp\lambda.cmi $(OCAMLSRC)\parsing\longident.cmi $(OCAMLSRC)\typing\path.cmo $(OCAMLSRC)\typing\path.cmi $(OCAMLSRC)\typing\primitive.cmi $(OCAMLSRC)\typing\types.cmi
	rm -f odll_opt.exe   odll.cmx $(OCAMLSRC)\typing\ident.cmx $(OCAMLSRC)\typing\path.cmx

wclean:
	-@del odll.exe   odll.cmo odll.cmi $(OCAMLSRC)\parsing\asttypes.cmi $(OCAMLSRC)\asmcomp\clambda.cmi $(OCAMLSRC)\asmcomp\compilenv.cmi $(OCAMLSRC)\utils\config.cmi $(OCAMLSRC)\bytecomp\emitcode.cmi $(OCAMLSRC)\typing\env.cmi $(OCAMLSRC)\typing\ident.cmo $(OCAMLSRC)\typing\ident.cmi $(OCAMLSRC)\bytecomp\instruct.cmi $(OCAMLSRC)\bytecomp\lambda.cmi $(OCAMLSRC)\parsing\longident.cmi $(OCAMLSRC)\typing\path.cmo $(OCAMLSRC)\typing\path.cmi $(OCAMLSRC)\typing\primitive.cmi $(OCAMLSRC)\typing\types.cmi 2>NUL
	-@del odll_opt.exe odll.cmx odll.obj $(OCAMLSRC)\typing\ident.cmx $(OCAMLSRC)\typing\ident.obj $(OCAMLSRC)\typing\path.cmx $(OCAMLSRC)\typing\path.obj 2>NUL

# SUFFIXES
.ml.cmo:
	ocamlc $(CFLAGS) -c $<

.ml.cmx:
	ocamlopt $(CFLAGS) -c $<

.mli.cmi:
	ocamlc $(CFLAGS) $<

.mll.ml:
	ocamllex $<

.mly.ml:
	ocamlyacc $<

